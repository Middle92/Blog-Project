{"version":3,"sources":["store/reducer.js","store/index.js","store/storeTypes.js","store/storeActions.js","pages/HomePage/page.js","http/index.js","pages/HomePage/index.js","pages/HomeIndexPage/page.js","pages/HomeIndexPage/index.js","pages/HomePlusPage/page.js","pages/HomePlusPage/index.js","pages/HomeListPage/page.js","pages/HomeListPage/index.js","route/index.js","pages/App/page.js","pages/App/index.js","index.js"],"names":["defaultData","version","home","defaultSelectedKeys","defaultOpenKeys","navigation_list","article_list","store","createStore","state","action","newState","JSON","parse","stringify","type","value","set_menu_open_keys","set_article_list","SubMenu","Menu","Header","Layout","Content","Sider","HomePage","get_navigation_list","this","props","onMenuOpenChange","onMenuSelect","onMenuClick","className","to","theme","mode","HomeMenu","map","option","key","label","Item","HomeIcon","icon","width","openKeys","onOpenChange","bind","onSelect","onClick","id","title","children","coption","style","margin","background","overflow","HomeRoute","Component","baseUrl","window","process","http","options","config","Object","assign","baseURL","headers","timeout","data","Qs","axios","connect","ownProps","dispatch","url","method","then","res","item","String","selectedKeys","navigation_id","params","HomeIndexPage","get_blog_article","onEditHander","onDeleteHander","index","color","src","article_image","alt","article_title","e","article_subtitle","preventDefault","history","push","article_id","code","HomePlusPage","editorState","BraftEditor","createEditorState","setBraftEditor","length","content","setState","prevProps","prevState","handleEditorChange","submitContent","uploadHandler","onCancel","onReset","customRequest","param","a","ContentUtils","insertMedias","filePath","controls","component","accept","showUploadList","data-title","media","uploadFn","success","spinning","delay","ref","onChange","onSave","search","location","searchObject","replace","split","forEach","file","formData","FormData","append","htmlContent","toHTML","select_id","alert","article_content","goBack","clear","HomeListPage","match","error","dangerouslySetInnerHTML","__html","AppRoute","path","AppRedirect","exact","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9f7bde00.chunk.js","sourcesContent":["import { SET_NAVIGATION_LIST, SET_MENU_SELECTED_KEYS, SET_MENU_OPEN_KEYS, SET_ARTICLE_LIST } from \"./storeTypes\"\r\nconst defaultData = {\r\n  version: \"1.0.0\",\r\n  home: {\r\n    defaultSelectedKeys: ['2'], // 首页导航左侧导航 选中的值\r\n    defaultOpenKeys: ['1'], // 首页导航左侧导航 展开的值\r\n    navigation_list: [], // 首页导航左侧导航 数据\r\n    article_list: [], // 文章列表\r\n  }\r\n}\r\n\r\nexport default (state = defaultData, action) => {\r\n  let newState = JSON.parse(JSON.stringify(state))\r\n  // 设置 首页导航左侧导航 数据\r\n  if(action.type === SET_NAVIGATION_LIST) {\r\n    newState.home.navigation_list = action.value\r\n    return newState\r\n  }\r\n  // 设置 首页导航左侧导航 选中的值\r\n  if(action.type === SET_MENU_SELECTED_KEYS) {\r\n    newState.home.defaultSelectedKeys = action.value\r\n    return newState\r\n  }\r\n  // 设置 首页导航左侧导航 展开的值\r\n  if(action.type === SET_MENU_OPEN_KEYS) {\r\n    newState.home.defaultOpenKeys = action.value\r\n    return newState\r\n  }\r\n  // 设置 文章列表\r\n  if(action.type === SET_ARTICLE_LIST) {\r\n    newState.home.article_list = action.value\r\n    return newState\r\n  }\r\n  return state\r\n}","import { createStore } from \"redux\"\r\nimport reducer from \"./reducer\"\r\n\r\nconst store = createStore(reducer)\r\n\r\nexport default store","// 设置导航列表\r\nexport const SET_NAVIGATION_LIST = \"SET_NAVIGATION_LIST\"\r\n// 设置导航选中值\r\nexport const SET_MENU_SELECTED_KEYS = \"SET_MENU_SELECTED_KEYS\"\r\n// 设置导航展开值\r\nexport const SET_MENU_OPEN_KEYS = \"SET_MENU_OPEN_KEYS\"\r\n// 设置文章列表\r\nexport const SET_ARTICLE_LIST = \"SET_ARTICLE_LIST\"","import { SET_NAVIGATION_LIST, SET_MENU_SELECTED_KEYS, SET_MENU_OPEN_KEYS, SET_ARTICLE_LIST } from \"./storeTypes\"\r\n\r\nexport const set_navigation_list = (value) => {\r\n  return {\r\n    type: SET_NAVIGATION_LIST,\r\n    value\r\n  }\r\n}\r\nexport const set_menu_selected_keys = (value) => {\r\n  return {\r\n    type: SET_MENU_SELECTED_KEYS,\r\n    value\r\n  }\r\n}\r\nexport const set_menu_open_keys = (value) => {\r\n  return {\r\n    type: SET_MENU_OPEN_KEYS,\r\n    value\r\n  }\r\n}\r\nexport const set_article_list = (value) => {\r\n  return {\r\n    type: SET_ARTICLE_LIST,\r\n    value\r\n  }\r\n}","import React, { Component } from \"react\"\r\n// router\r\nimport { HomeRoute, HomeMenu, HomeIcon } from \"../../route\"\r\nimport { Link, Switch, Route } from \"react-router-dom\"\r\n// style\r\nimport \"./style.scss\"\r\n// antd\r\nimport { Layout, Menu, Icon } from 'antd'\r\nconst { SubMenu } = Menu;\r\nconst { Header, Content, Sider } = Layout\r\n\r\nexport default class HomePage extends Component {\r\n  \r\n  componentDidMount() {\r\n    const { get_navigation_list } = this.props\r\n    get_navigation_list()\r\n  }\r\n\r\n  render() {\r\n    const { navigation_list, defaultSelectedKeys, defaultOpenKeys, onMenuOpenChange, onMenuSelect, onMenuClick } = this.props\r\n\r\n    return (\r\n      <Layout className=\"home-page\">\r\n        {/* header */}\r\n        <Header className=\"header\">\r\n          {/* logo */}\r\n          <div className=\"logo\">\r\n            <Link to={`/home`}>博客</Link>\r\n          </div>\r\n          {/* menu */}\r\n          <div className=\"menu\">\r\n            <Menu theme=\"dark\" mode=\"horizontal\">\r\n              {\r\n                HomeMenu.map(option => {\r\n                  const { key, to, label } = option\r\n                  return (\r\n                    <Menu.Item key={key}>\r\n                      <Link to={to}>\r\n                        {label}\r\n                      </Link>\r\n                    </Menu.Item>\r\n                  )\r\n                })\r\n              }\r\n              \r\n            </Menu>\r\n          </div>\r\n          {/* icon */}\r\n          <div className=\"icon\">\r\n            {\r\n              HomeIcon.map(option => {\r\n                const { key, to, icon} = option\r\n                return (\r\n                  <Link key={key} to={to}>\r\n                    <Icon type={icon}/>\r\n                  </Link>\r\n                )\r\n              })\r\n            }\r\n          </div>\r\n        </Header>\r\n        {/* content */}\r\n        <Layout className=\"content\">\r\n          {/* sider */}\r\n          <Sider className=\"sider\" width={200}>\r\n            <Menu \r\n              className=\"sider-menu\" \r\n              mode=\"inline\" \r\n              openKeys={defaultOpenKeys}\r\n              defaultSelectedKeys={defaultSelectedKeys} \r\n              onOpenChange={onMenuOpenChange.bind(this)}\r\n              onSelect={onMenuSelect.bind(this)}\r\n              onClick={onMenuClick.bind(this)}>\r\n              {\r\n                navigation_list.map(option => (\r\n                  <SubMenu\r\n                    key={option.id}\r\n                    title={\r\n                      <span>\r\n                        {option.icon && <Icon type={option.icon} />}\r\n                        {option.label}\r\n                      </span>\r\n                    }\r\n                  >\r\n                    {\r\n                      option.children.map(coption => (\r\n                        <Menu.Item key={coption.id}>\r\n                          <Link to={`/home`}>{coption.label}</Link>\r\n                        </Menu.Item>\r\n                      ))\r\n                    }\r\n                  </SubMenu>\r\n                ))\r\n              }\r\n            </Menu>\r\n          </Sider>\r\n          <Layout>\r\n            {/* content */}\r\n            <Content style={{ margin: '10px', background: '#fff', overflow: 'auto' }}>\r\n              <Switch>\r\n                {\r\n                  HomeRoute.map((option) => (\r\n                    <Route {...option} />\r\n                  ))\r\n                }\r\n              </Switch>\r\n            </Content>\r\n          </Layout>\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}","import axios from \"axios\"\r\nimport Qs from \"qs\"\r\n\r\nconst baseUrl = window.baseUrl = process.env.NODE_ENV === \"development\" && \"http://localhost:3001\"\r\n\r\nconst http = (options) => {\r\n  let config = Object.assign({\r\n    baseURL: baseUrl,\r\n    headers: {\r\n      'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n    timeout: 3000\r\n  }, options)\r\n\r\n  if (config.headers['Content-Type'] !== \"multipart/form-data\") {\r\n    config.data = Qs.stringify(config.data)\r\n  }\r\n\r\n  return axios(config)\r\n}\r\n\r\nexport default http","import { connect } from \"react-redux\"\r\nimport { set_navigation_list, set_menu_selected_keys, set_menu_open_keys, set_article_list } from \"../../store/storeActions\"\r\n// page\r\nimport HomePage from \"./page\"\r\n// http\r\nimport http from '../../http'\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  // state\r\n  return state.home\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    // 获取 导航列表\r\n    get_navigation_list() {\r\n      http({\r\n        url: '/get_navigation_list',\r\n        method: 'get'\r\n      }).then(res => {\r\n        let openKeys = res.data.data.map(item => String(item.id))\r\n        dispatch(set_menu_open_keys(openKeys))\r\n        dispatch(set_navigation_list(res.data.data))\r\n      })\r\n    },\r\n    // 展开 事件\r\n    onMenuOpenChange(openKeys) {\r\n      dispatch(set_menu_open_keys(openKeys))\r\n    },\r\n    // 选中 事件\r\n    onMenuSelect({ selectedKeys }) {\r\n      dispatch(set_menu_selected_keys(selectedKeys))\r\n    },\r\n    // 左侧导航 点击事件\r\n    onMenuClick(option) {\r\n      // 文章内容请求\r\n      const navigation_id = option.key\r\n      http({\r\n        url: '/get_blog_article',\r\n        method: 'get', \r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        params: {\r\n          navigation_id\r\n        }\r\n      }).then(res => {\r\n        dispatch(set_article_list(res.data.data))\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage)","import React, { Component } from \"react\"\r\nimport { Link } from 'react-router-dom'\r\nimport { Icon } from 'antd'\r\n// style\r\nimport './style.scss'\r\n\r\nexport default class HomeIndexPage extends Component {\r\n  componentDidMount() {\r\n    const { get_blog_article, defaultSelectedKeys } = this.props\r\n    get_blog_article(defaultSelectedKeys[0])\r\n  }\r\n\r\n  render() {\r\n    const { article_list, onEditHander, onDeleteHander } = this.props\r\n    return (\r\n      <div className=\"home-index-page\">\r\n        {\r\n          article_list.map((item, index) => {\r\n            return (\r\n              <Link className=\"list\" key={item.id} to={`/home/list/${index}`} style={{color: '#333'}}>\r\n                <div className=\"list_image\">\r\n                  <img src={item.article_image} alt={item.id}/>\r\n                </div>\r\n                <div className=\"list_detail\">\r\n                  <div className=\"list_detail_div\">\r\n                    <h1 title={item.article_title}>{item.article_title}</h1>\r\n                    <Icon type=\"edit\" onClick={(e) => {onEditHander.bind(this)(e, index)}}/>\r\n                    <Icon type=\"delete\" onClick={(e) => {onDeleteHander.bind(this)(e, index)}}/>\r\n                  </div>\r\n                  <p className=\"list_subtitle\">{item.article_subtitle}</p>\r\n                </div>\r\n              </Link>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}","import { connect } from \"react-redux\"\r\nimport { set_article_list } from '../../store/storeActions'\r\n// page\r\nimport HomeIndexPage from \"./page\"\r\n// http\r\nimport http from '../../http'\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return state.home\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    // 获取文章列表\r\n    get_blog_article(navigation_id) {\r\n      http({\r\n        url: '/get_blog_article',\r\n        method: 'get', \r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        params: {\r\n          navigation_id\r\n        }\r\n      }).then(res => {\r\n        dispatch(set_article_list(res.data.data))\r\n      })\r\n    },\r\n    onEditHander(e, index) {\r\n      e.preventDefault();\r\n      this.props.history.push(`/home/plus?index=${index}`)\r\n    },\r\n    onDeleteHander(e, index) {\r\n      e.preventDefault();\r\n      const { article_list } = this.props\r\n      const article_id = article_list[index].id\r\n      http({\r\n        url: '/delete_blog_article',\r\n        method: 'post',\r\n        data: {\r\n          article_id\r\n        }\r\n      }).then(res => {\r\n        if(res.data.code === 200) {\r\n          const { get_blog_article, defaultSelectedKeys } = this.props\r\n          get_blog_article(defaultSelectedKeys[0])\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeIndexPage)","import React, { Component } from \"react\"\r\n// 引入编辑器组件\r\nimport BraftEditor from \"braft-editor\"\r\nimport { ContentUtils } from 'braft-utils'\r\n// antd\r\nimport { Button, Upload, Icon, Spin } from \"antd\"\r\n// style\r\nimport \"./style.scss\"\r\nimport \"braft-editor/dist/index.css\"\r\n\r\nexport default class HomePlusPage extends Component {\r\n  state = {\r\n    // 创建一个空的editorState作为初始值\r\n    editorState: BraftEditor.createEditorState(null)\r\n  }\r\n\r\n  setBraftEditor = () => {\r\n    const { article_list, index } = this.props\r\n      // 如果是编辑状态 就执行\r\n      if(index && article_list.length > 0) {\r\n        const content = article_list[index].content\r\n        this.setState({\r\n          editorState: BraftEditor.createEditorState(content)\r\n        })\r\n      } else {\r\n        this.setState({\r\n          editorState: BraftEditor.createEditorState(null)\r\n        })\r\n      }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(prevProps.index !== this.props.index) {\r\n      this.setBraftEditor()\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setBraftEditor()\r\n  }\r\n\r\n  render() {\r\n    const { editorState } = this.state\r\n    const { handleEditorChange, submitContent, uploadHandler, onCancel, onReset } = this.props\r\n    // 工具栏 上传图片方法\r\n    const customRequest = async (param) => {\r\n      const res = await uploadHandler(param)\r\n      this.setState({\r\n        editorState: ContentUtils.insertMedias(this.state.editorState, [{\r\n          type: 'IMAGE',\r\n          url: window.baseUrl + '/' + res.data.data.filePath\r\n        }])\r\n      })\r\n    }\r\n    // 扩展控件 上传图片\r\n    const extendControls = {\r\n      key: 'antd-uploader',\r\n      type: 'component',\r\n      component: (\r\n        <Upload\r\n          accept=\"image/*\"\r\n          showUploadList={false}\r\n          customRequest={customRequest}\r\n        >\r\n          {/* 这里的按钮最好加上type=\"button\"，以避免在表单容器中触发表单提交，用Antd的Button组件则无需如此 */}\r\n          <button type=\"button\" className=\"control-item button upload-button\" data-title=\"插入图片\">\r\n            <Icon type=\"picture\" theme=\"filled\" />\r\n          </button>\r\n        </Upload>\r\n      )\r\n    }\r\n    // 控件的工具顺序\r\n    const controls = [\r\n      \"undo\", \"redo\", \"separator\",\r\n      \"font-size\", \"line-height\", \"letter-spacing\", \"separator\",\r\n      \"text-color\", \"bold\", \"italic\", \"underline\", \"strike-through\", \"separator\",\r\n      \"superscript\", \"subscript\", \"remove-styles\", \"emoji\", \"separator\",\r\n      \"text-indent\", \"text-align\", \"separator\",\r\n      \"headings\", \"list-ul\", \"list-ol\", \"blockquote\", \"code\", \"separator\",\r\n      \"media\", extendControls, \"link\", \"table\", \"split\", \"hr\", \"separator\",\r\n      \"clear\", \"separator\",\r\n      \"fullscreen\"\r\n    ]\r\n    // 媒体属性\r\n    const media = {\r\n      async uploadFn(param) {\r\n        const res = await uploadHandler(param)\r\n        param.success({\r\n          url: window.baseUrl + '/' + res.data.data.filePath\r\n        })\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"home-plus-page\">\r\n        <Spin spinning={false} delay={500}>\r\n          <BraftEditor\r\n            ref=\"brafteditor\"\r\n            value={editorState}\r\n            media={media}\r\n            onChange={handleEditorChange.bind(this)}\r\n            onSave={submitContent.bind(this)}\r\n            controls={controls}\r\n          />\r\n        </Spin>\r\n        <div className=\"btns\">\r\n          <Button type=\"primary\" onClick={submitContent.bind(this)}>提交</Button>\r\n          <Button type=\"default\" onClick={onReset.bind(this)}>重置</Button>\r\n          <Button type=\"default\" onClick={onCancel.bind(this)}>取消</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import { connect } from 'react-redux'\r\nimport HomePlusPage from './page'\r\n// http\r\nimport http from \"../../http\"\r\n// 引入编辑器组件\r\nimport { ContentUtils } from 'braft-utils'\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  // 判断是否编辑状态 location.search.index: 文章列表下标\r\n  const { location } = ownProps\r\n  const search = location.search\r\n  const searchObject = {}\r\n  // location.search 转换 对象\r\n  search.replace('?', '').split('&').forEach(item => {\r\n    if(item) {\r\n      searchObject[item.split('=')[0]] = item.split('=')[1]\r\n    }\r\n  })\r\n  const newState = JSON.parse(JSON.stringify(state.home))\r\n  return Object.assign(newState, searchObject)\r\n}\r\n\r\nconst mapDisaptchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    // 图片上传\r\n    uploadHandler(param) {\r\n      if (!param.file) {\r\n        return false\r\n      }\r\n      const formData = new FormData()\r\n      formData.append('files', param.file)\r\n      return http({\r\n        url: '/upload',\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        },\r\n        data: formData\r\n      })\r\n    },\r\n    // 编辑器 提交\r\n    async submitContent() {\r\n      const { defaultSelectedKeys, history, index, article_list} = this.props\r\n      // 在编辑器获得焦点时按下ctrl+s会执行此方法\r\n      // 编辑器内容提交到服务端之前，可直接调用editorState.toHTML()来获取HTML格式的内容\r\n      const htmlContent = this.state.editorState.toHTML()\r\n      const select_id = defaultSelectedKeys[0]\r\n      if(!select_id) {\r\n        alert('选择分类')\r\n        return false\r\n      }\r\n      const data = {\r\n        select_id: select_id,\r\n        article_content: htmlContent\r\n      }\r\n      if(index) {\r\n        Object.assign(data, {\r\n          article_id: article_list[index].id\r\n        })\r\n      }\r\n      http({\r\n        url: '/post_submit_blog',\r\n        method: 'post',\r\n        data: data\r\n      }).then(res => {\r\n        history.goBack()\r\n      })\r\n    },\r\n    // 编辑器 改变事件\r\n    handleEditorChange(editorState) {\r\n      this.setState({ editorState })\r\n    },\r\n    // 取消事件\r\n    onCancel() {\r\n      const { history } = this.props\r\n      history.goBack()\r\n    },\r\n    onReset() {\r\n      this.setState({\r\n        editorState: ContentUtils.clear(this.state.editorState)\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDisaptchToProps)(HomePlusPage)","import React, { Component } from 'react'\r\n// style\r\nimport './style.scss'\r\n\r\nexport default class HomeListPage extends Component {\r\n  state = {\r\n    content: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { article_list, match } = this.props\r\n    const index = match.params.index\r\n    try {\r\n      this.setState({\r\n        content: article_list[index].content\r\n      })\r\n    } catch (error) {\r\n      \r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { content } = this.state\r\n    return (\r\n      <div className=\"home-list-page\" dangerouslySetInnerHTML={{__html: content}}></div>\r\n    )\r\n  }\r\n}","import { connect } from 'react-redux'\r\nimport HomeListPage from './page'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return state.home\r\n}\r\n\r\nconst mapDisaptchToProps = (dispatch) => {\r\n  return {}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDisaptchToProps)(HomeListPage)","import HomePage from \"../pages/HomePage\"\r\nimport HomeIndexPage from \"../pages/HomeIndexPage\"\r\nimport HomePlusPage from \"../pages/HomePlusPage\"\r\nimport HomeListPage from \"../pages/HomeListPage\"\r\n\r\n// App pages\r\nexport const AppRoute = [\r\n  {\r\n    key: \"home\",\r\n    path: \"/home\",\r\n    label: \"首页\",\r\n    component: HomePage\r\n  }\r\n]\r\nexport const AppRedirect = {\r\n  to: '/home'\r\n}\r\n// Home page\r\nexport const HomeRoute = [\r\n  {\r\n    key: \"home-index\",\r\n    path: \"/home\",\r\n    label: \"首页主界面\",\r\n    exact: true,\r\n    component: HomeIndexPage\r\n  },\r\n  {\r\n    key: \"home-plus\",\r\n    path: \"/home/plus\",\r\n    label: \"首页添加界面\",\r\n    component: HomePlusPage,\r\n  },\r\n  {\r\n    key: \"home-list\",\r\n    path: \"/home/list/:index\",\r\n    label: \"首页文章列\",\r\n    component: HomeListPage,\r\n  }\r\n]\r\nexport const HomeMenu = [\r\n  {\r\n    key: \"other\",\r\n    to: \"/other\",\r\n    label: \"其他\"\r\n  },\r\n  {\r\n    key: \"mobile\",\r\n    to: \"/mobile\",\r\n    label: \"手机端\"\r\n  }\r\n]\r\nexport const HomeIcon = [\r\n  {\r\n    key: \"home-plus\",\r\n    to: \"/home/plus\",\r\n    icon: \"plus\"\r\n  }\r\n]","import React, { Component } from \"react\"\r\n// style\r\nimport \"./style.scss\"\r\n// router\r\nimport { AppRoute, AppRedirect } from \"../../route\"\r\nimport { Route, Switch, Redirect } from \"react-router-dom\"\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <Redirect {...AppRedirect} />\r\n        <Switch>\r\n          {\r\n            AppRoute.map((option) => (\r\n              <Route {...option} />\r\n            ))\r\n          }\r\n        </Switch>\r\n      </div>\r\n    )\r\n  }\r\n}","// redux\r\nimport { connect } from \"react-redux\"\r\n// page\r\nimport App from \"./page\"\r\n\r\nexport default connect(null, null)(App) ","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\n// redux\r\nimport { Provider } from \"react-redux\"\r\nimport store from \"./store\"\r\n// page\r\nimport App from \"./pages/App\"\r\n// router\r\nimport { BrowserRouter as Router } from \"react-router-dom\"\r\n// antd\r\nimport 'antd/dist/antd.css'\r\n\r\nconst Main = () => (\r\n  <Provider store={store}>\r\n    <Router>\r\n      <App/>\r\n    </Router>\r\n  </Provider>\r\n)\r\n\r\nReactDOM.render(<Main/>, document.getElementById(\"root\"))"],"sourceRoot":""}